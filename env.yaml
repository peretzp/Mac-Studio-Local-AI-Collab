# env.yaml — Machine-specific environment configuration
#
# This file maps abstract resource names to local paths, ports, and URLs.
# Every AI agent reads this on startup to know where things live.
#
# To use this repo on a different machine:
#   1. Fork or clone the repo
#   2. Copy env.yaml to env.local.yaml
#   3. Edit env.local.yaml with your machine's paths
#   4. env.local.yaml is gitignored — your overrides stay local
#
# Schema: paths are absolute. Ports are integers. URLs include protocol.

machine:
  name: "Mac Studio Pro"
  hostname: "peretz-Mac-Studio"
  user: "peretz_1"
  os: "macOS Darwin 25.2.0"
  arch: "arm64 (M2 Max)"
  ram: "64GB"
  ip_local: "192.168.1.113"

# ── Runtimes ──────────────────────────────────────────────

runtimes:
  python: "3.11"          # NOT 3.13 — compatibility issues
  node: "v24.7.0"
  shell: "zsh"
  claude_code: "2.1.36"

# ── Key Paths ─────────────────────────────────────────────

paths:
  home: "/Users/peretz_1"

  # Obsidian vault (iCloud-synced)
  vault: "/Users/peretz_1/Library/Mobile Documents/iCloud~md~obsidian/Documents/PracticeLife"

  # AI agent configuration
  claude_config: "/Users/peretz_1/.claude"
  claude_memory: "/Users/peretz_1/.claude/projects/-Users-peretz-1/memory/MEMORY.md"
  claude_sessions: "/Users/peretz_1/.claude/session-logs"
  claude_settings: "/Users/peretz_1/.claude/settings.json"
  codex_config: "/Users/peretz_1/.codex"
  cursor_config: "/Users/peretz_1/.cursor"

  # Coordination files (canonical locations — repo symlinks to these)
  agent_protocol: "/Users/peretz_1/agent-protocol.md"
  collab_brief: "/Users/peretz_1/claude-collab-brief.md"
  ai_standard: "/Users/peretz_1/AI-OPERATING-STANDARD.md"

  # Project directories
  api: "/Users/peretz_1/api"
  dashboard: "/Users/peretz_1/life-dashboard"
  prompt_browser: "/Users/peretz_1/prompt-browser"
  memoryatlas: "/Users/peretz_1/tools/memoryatlas"
  contacts_dedup: "/Users/peretz_1/contacts-dedup"
  collab_repo: "/Users/peretz_1/GitHub/Mac-Studio-Local-AI-Collab"

  # MCP servers
  linkedin_mcp: "/Users/peretz_1/mcp-servers/linkedin-mcp"
  linkedin_profile: "/Users/peretz_1/.linkedin-mcp-profile"

  # External drives
  sd4loco: "/Volumes/SD4Loco"
  elements: "/Volumes/Elements"       # currently disconnected

# ── Services ──────────────────────────────────────────────

services:
  dashboard:
    dir: "/Users/peretz_1/life-dashboard"
    port: 3000
    url: "http://localhost:3000"
    start: "node server.js"
    health: "http://localhost:3000/"

  api:
    dir: "/Users/peretz_1/api"
    port: 3001
    url: "http://localhost:3001"
    start: "node server.js"
    health: "http://localhost:3001/health"

  prompt_browser:
    dir: "/Users/peretz_1/prompt-browser"
    port: 3002
    url: "http://localhost:3002"
    start: "node server.js"
    health: "http://localhost:3002/api/stats"

# ── Git Repos ─────────────────────────────────────────────

repos:
  practicelife_api:
    local: "/Users/peretz_1/api"
    remote: "git@github.com:peretzp/practicelife-api.git"
    branch: "main"

  life_dashboard:
    local: "/Users/peretz_1/life-dashboard"
    remote: "git@github.com:peretzp/life-dashboard.git"
    branch: "main"

  memoryatlas:
    local: "/Users/peretz_1/tools/memoryatlas"
    remote: "git@github.com:peretzp/memoryatlas.git"
    branch: "main"

  collab:
    local: "/Users/peretz_1/GitHub/Mac-Studio-Local-AI-Collab"
    remote: "git@github.com:peretzp/Mac-Studio-Local-AI-Collab.git"
    branch: "main"

  treehouse:
    local: "/Users/peretz_1/treehousedads/kevin"
    remote: "git@github.com:kevinselhi/treehouse.git"
    branch: "main"

# ── MCP Servers (per agent) ───────────────────────────────

mcp:
  claude_desktop:
    - name: "linkedin"
      transport: "stdio"
      command: "node /Users/peretz_1/mcp-servers/linkedin-mcp/index.js"
    - name: "obsidian-vault"
      transport: "stdio"
      command: "npx -y @modelcontextprotocol/server-filesystem /Users/peretz_1/Library/Mobile\\ Documents/iCloud~md~obsidian/Documents/PracticeLife"
    - name: "browser"
      transport: "stdio"
      command: "npx -y @playwright/mcp"

  cursor:
    - name: "playwright"
      transport: "stdio"
      command: "npx -y @playwright/mcp@latest"
    - name: "claude-code"
      transport: "stdio"
      command: "/Users/peretz_1/.local/bin/claude mcp serve"

  codex:
    - name: "openaiDeveloperDocs"
      transport: "http"
      url: "https://developers.openai.com/mcp"
    - name: "linkedin"
      transport: "stdio"
      command: "node /Users/peretz_1/mcp-servers/linkedin-mcp/index.js"
    - name: "playwright"
      transport: "stdio"
      command: "npx -y @playwright/mcp@latest"

# ── GitHub Accounts ───────────────────────────────────────

github:
  primary:
    user: "peretzp"
    ssh_key: "ed25519"
  secondary:
    user: "kevinselhi"
    note: "gh auth switch to toggle"

# ── Ollama Models ─────────────────────────────────────────

ollama:
  models:
    - "llama3.3:70b"
    - "qwen2.5:32b"
    - "codellama:34b"
    - "nomic-embed"
